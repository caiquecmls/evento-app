<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<!--Import materialize.css-->
<link type="text/css" rel="stylesheet"
	href="materialize/css/materialize.min.css" media="screen,projection" />

<!--Let browser know website is optimized for mobile-->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>
<body>

 <nav class="nav-wrapper  #00bfa5 teal accent-4">
  		<div class="container">
      		<a href="#!" class="brand-logo">Evento</a>
      		<ul class="right hide-on-med-and-down">
        <li><a href="/cadastrarEvento"><i class="material-icons left">add</i>Cadastrar Evento</a></li>
        <li><a href="/eventos"><i class="material-icons left">list</i>Lista de Evento</a></li>
      </ul>
    </div>
  </nav>
	
	
	<!-- 
	<div class="container">
		<div class="row">
			<table>
				<thead>
					<tr>
						<th>Nome Evento</th>
						<th>Local</th>
						<th>Data</th>
						<th>Horario</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="evento : ${evento}" >
					<td><span th:text="${evento.nome}"></span></td>
					<td><span th:text="${evento.local}"></span></td>
					<td><span th:text="${evento.data}"></span></td>
					<td><span th:text="${evento.horario}"></span></td>			
					</tr>
				</tbody>

			</table> 
		</div>
		-->
		
	<div class="container">
		<h4>Cadastro de Convidado</h4>
		<div th:if="${msgSucesso != null}" hidden="" id="paragrafo-text" th:text="${msgSucesso}" role="alert"></div>
		<form method="post">
			<div class="row">
			<div class="input-field col s6">
			<input type="text" value="" placeholder="Nome convidado" name="nomeConvidado">
			</div>
			<div class="input-field col s3">
			<input type="text" placeholder="RG" value="" name="rg">
			</div>
			<div class="input-field col s3">
			<button class="btn waves-effect waves-light" type="submit">Adicionar convidado</button>
			</div>
			</div>
		</form>
			
		<button class="btn waves-effect waves-light" id="consultar" value="Consultar" onclick="mostraDiv('maisinfo');">Consulta</button>
	</div>
	
	
	
	
	<div id="spoiler" style="display: none;">
	<div class="container">
	<h4>Convidados</h4>
		<div class="row">
			<table>
				<thead>
			          <tr>
			              <th>Nome</th>
			              <th>RG</th>
			              <th>Manutencao</th>
			          </tr>
			    </thead>    
			    <tbody>
		          <tr  th:each="convidado : ${convidados}">
		            <td>			
						<span th:text="${convidado.nomeConvidado}"></span>
					</td>	
					 <td>
						<span th:text="${convidado.rg}"></span>
					</td>
					<td>
								  
					  <a  th:href="@{/deletarConvidado/{id}(id=${convidado.rg})}" class="waves-effect waves-light"><i class="material-icons red-text text-darken-2">delete</i></a>
					  
					</td>	
		          </tr>      
			    </tbody> 
			</table>
		</div>
	</div>
	</div>
	

	<script type="text/javascript" src="materialize/js/materialize.min.js"></script>

	<script>
	
function mostraDiv(obj) {
    var el = document.getElementById('spoiler');
        if ( el.style.display == 'none' ) {
           /* se conteúdo está escondido, mostra e troca o valor do botão para: escondeOcultar */ 
           el.style.display = 'block';
           document.getElementById("consultar").value='Ocultar'
        } else {
           /* se conteúdo está a mostra, esconde o conteúdo e troca o valor do botão para: mostraConsultar */ 
           el.style.display = 'none' 
           document.getElementById("consultar").value='Consultar' 
        }
}	
	
var conteudo_texto = $("#paragrafo-text").text();
console.log(conteudo_texto);

if(conteudo_texto == 'preencha os campos corretamente'){
  M.toast({html:  'preencha os campos corretamente',
  classes: 'red darken-1 rounded'
  })
}else if(conteudo_texto == 'salvo com sucesso'){
    M.toast({html: 'Adicionado com sucesso',
    classes: 'green darken-1 rounded'
    })
}
    
	</script>
	
</body>


</html>